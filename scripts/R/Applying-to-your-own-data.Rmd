---
title: 'Data Wrangling and Visualization 101 in R - Class 2'
author: "Florian Jaeger"
date: "Fall 2020"
output:
  pdf_document:
    latex_engine: xelatex
    number_sections: yes
    toc: yes
    toc_depth: 3
  word_document:
    toc: yes
  html_document:
    df_print: paged
    toc: yes
urlcolor: blue
header-includes:
   - \usepackage{animate}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE, results = "markup", warning = TRUE, cache = FALSE,
  fig.align = "center", fig.width = 6.5)
```

```{r libraries, include = F}
library("tidyverse")  # dplyr, ggplot2, and more from the tidyverse
library("magrittr")   # for pipes
library("R.matlab")   # for interacting with MatLab
library("readxl")     # for interacting with Excel
library("cowplot")    # for combining figures
library("plotly")     # for interactive plots

theme_set(theme_bw())
```



# Applying these methods to your own data

## Importing your data

### DeAngelis & Haefner group

```{r, message=F}
files = list.files(path = "../../data/Haefner", pattern = "*.csv", full.names = T)

d.motion = tibble()
for (f in files) {
  d.motion %<>%
    rbind(read_csv(f)) %>%
    mutate_at(
      c("conditionName", "apertureDegree", "probeEccentricity", "probeAngle"),
      factor
    )
}
```

### Jaeger group

```{r, message=F, warning=F}
d.speech.exposure = read_csv("../../data/Jaeger/Liu-Jaeger-2018-exposure-1-s2.0-S0010027718300118-mmc3.csv")
d.speech.test = read_csv("../../data/Jaeger/Liu-Jaeger-2018-test-1-s2.0-S0010027718300118-mmc2.csv") %>%
  select(-X1)
```
## Plotting your data

### DeAngelis & Haefner group

#### Trial exclusions

Are there any criteria that would make you think that a trial should be excluded from further analysis?

```{r}
d.motion %>%
  summary()
```


#### Relative tilt

Let's start with one subject in Experiment 1. Plot the relative tilt (your dependent variable) as a function of the probe's angle (probeAngle, 3 values), eccentricity (probeEccentricity, 2 values), apperature degree (aperatureDegree, 4 values) and the condition (conditionName). 

```{r}
d.motion
```


### Jaeger group

#### Plotting all subjects' performance during exposure

Get the average reaction time (AdjustedRT) and accuracy (IsCorrect) of each subject and visualize the distribution of subjects with regard to these two variables.

```{r}
d.speech.exposure
```
#### Plotting all subjects' performance during test


#### Relating subjects' performance during exposure and test

Plott the boundary shift during test against the proportion of shifted words that were rated as words.






# Session info
```{r session_info, echo=FALSE, results='markup'}
devtools::session_info()
```
